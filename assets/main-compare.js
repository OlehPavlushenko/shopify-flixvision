class PageWishlist extends HTMLElement{constructor(){super(),this.loadWishlistProducts()}loadWishlistProducts(){let e=(JSON.parse(localStorage.getItem("productsWishlist"))||[]).map((e=>e.name)).join("="),t=document.querySelector(".js-list-container"),s=document.querySelector(".js-page-wishlist-title");e&&(s.classList.add("hidden"),fetch(window.Shopify.routes.root+"collections/all?section_id=page-wishlist&handle="+encodeURIComponent(e)).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.text()})).then((e=>{const o=document.createElement("div");o.innerHTML=e;const r=o.querySelector(".js-page-block");if(r&&r.innerHTML.trim().length){t.innerHTML=r.innerHTML,t.querySelectorAll(".js-btn-wishlist").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const o=e.currentTarget;setTimeout((()=>{o.closest(".js-card-item").remove(),0==(JSON.parse(localStorage.getItem("productsWishlist"))||[]).length&&(t.classList.add("hidden"),s.classList.remove("hidden"))}),300)}))}))}})).catch((e=>{console.error("Error:",e)})))}}customElements.define("page-wishlist",PageWishlist);